<!DOCTYPE html>
<html>
<head>
    <title></title>
	<meta charset="utf-8" />
    <script type="text/javascript" src="$res('/resource/static/scripts/jquery-1.11.1.min.js')"></script>
    <script type="text/javascript">
        var Url_Ext = '$ext';

        var JS_Lang = "zh-Hans";
        var editor = null;
    </script>
    <script type="text/javascript" src="$res('/country/static/scripts/area.js')"></script>
    <script type="text/javascript" src="$res('/resource/static/kindeditor/kindeditor-min.js')"></script>
    <script type="text/javascript" src="$res('/resource/static/kindeditor/lang/zh_cn.js')"></script>
</head>
<body>
    $clr.System.Int32.MaxValue
    <div id="area"></div>
    <input id="id" type="text"/>
    <input id="coordinates" type="text" />
    <input id="aview" type="button"/>
    <textarea id="acontent" name="Content" style="width:680px;height:190px;visibility:hidden;display:block;"></textarea>
    <script type="text/javascript">
        Cnaws.Area.Init('area', '$url("/country/")', 140211);

        if (editor == null) {
            editor = KindEditor.create('#acontent', {
                cssPath: '$res("/resource/static/kindeditor/plugins/code/prettify.css")',
                uploadJson: '$filesystem("upload")',
                fileManagerJson: '$filesystem("filemanager")',
                allowFileManager: true
            });
            $('#aview').click(function () {
                editor.loadPlugin('coordinates', function () {
                    editor.plugin.coordinatesDialog({
                        clickFn: function (lng, lat, zoom) {
                            $('#coordinates').val(lng + ',' + lat + ' ' + zoom);
                            editor.hideDialog();
                        }
                    });
                });
            });
        }
    </script>
</body>
</html>
