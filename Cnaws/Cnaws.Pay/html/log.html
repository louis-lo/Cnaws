<script type="text/javascript" src="$url('pay/all')"></script>
<div id="paylogcs"></div>
<script type="text/javascript">
    var providerrenderer = function (row, column, value) {
        var html = '<div class="action">';
        for (var i = 0; i < allProvider.data.length; ++i) {
            if (allProvider.data[i].Provider == value) {
                html += allProvider.data[i].Name;
                break;
            }
        }
        html += '</div>';
        return html;
    }
    var daterenderer = function (row, column, value) {
        return '<div class="action">' + (new Date(value * 1000)).format('yyyy-MM-dd hh:mm:ss') + '</div>';
    };
    var dataTable = initDataTable('paylogcs', '$url("pay/log/list/")', [
        { name: 'Provider', type: 'string' },
        { name: 'TradeNo', type: 'string' },
        { name: 'Message', type: 'string' },
        { name: 'CreationDate', type: 'date' }
    ], [
			{ text: '支付方式', datafield: 'Provider', width: '10%', cellsrenderer: providerrenderer },
            { text: '订单号', datafield: 'TradeNo', width: '20%' },
            { text: '日志', datafield: 'Message', width: '50%' },
			{ text: '时间', datafield: 'CreationDate', width: '20%', cellsrenderer: daterenderer }
    ], null, null);
    dataTable.loadPage(1);
</script>